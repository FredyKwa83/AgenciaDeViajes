<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Register </title>
    <link rel="stylesheet" href="/css/stylus.css">
    <script src="https://kit.fontawesome.com/330ca645c0.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;1,300;1,400&display=swap"
        rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<div class="main-div1">
    <a href="#" class="hamburguer-button"> <i class="fa-solid fa-bars"></i> </a>
    <a href="/page"><h2 class="titulo"> Arcolbooks </h2></a>
    <img class="logo" src="/img/logolibros2.png" alt="">
    <img class="carrito" src="/img/carritoblanco.png" alt="">
</div>

<div class="main-div2">
    <input class="buscar" type="search" placeholder="Escribe el nombre del libro">
    <button class="boton"> Buscar </button>
</div>

</div>
</header>

<br>

<body class="body-register">
    <div>
        <h1 class="registerTitulo">Registro de Usuario</h1>
    </div>

    <form action="/register" method="POST" class="register" onsubmit="return validateForm()">


        <label for="nombre"></label>
        <input type="text" placeholder="Nombre" name="nombre" required class="control"><br>

        <label for="Apellido"></label>
        <input type="text" placeholder="Apellido" name="Apellido" required class="control"><br>

        <label for="username"></label>
        <div class="error" id="username-error"></div>
        <input type="text" placeholder="Nombre de usuari@" name="username" required class="control"><br>
        
        <label for="email"></label>
        <input type="email" placeholder="email" name="email" required class="control"><br>

        <label for="fecha-nacimiento">fecha de nacimiento</label>
        <input type="date" placeholder="Fecha de Nacimiento" name="fecha-nacimiento" required class="control"><br>


        <label for="pais">País:</label>
        <select name="pais" class="control">
            <option value="">Selecciona un país</option>

            <option value="Afghanistan">Afganistán</option>
            <option value="Albania">Albania</option>
            <option value="Algeria">Argelia</option>
            <option value="Andorra">Andorra</option>
            <option value="Angola">Angola</option>
            <option value="Antigua and Barbuda">Antigua y Barbuda</option>
            <option value="Argentina">Argentina</option>
            <option value="Armenia">Armenia</option>
            <option value="Australia">Australia</option>
            <option value="Austria">Austria</option>
            <option value="Azerbaijan">Azerbaiyán</option>
            <option value="Bahamas">Bahamas</option>
            <option value="Bahrain">Baréin</option>
            <option value="Bangladesh">Bangladesh</option>
            <option value="Barbados">Barbados</option>
            <option value="Belarus">Bielorrusia</option>
            <option value="Belgium">Bélgica</option>
            <option value="Belize">Belice</option>
            <option value="Benin">Benín</option>
            <option value="Bhutan">Bután</option>
            <option value="Bolivia">Bolivia</option>
            <option value="Bosnia and Herzegovina">Bosnia y Herzegovina</option>
            <option value="Botswana">Botsuana</option>
            <option value="Brazil">Brasil</option>
            <option value="Brunei">Brunéi</option>
            <option value="Bulgaria">Bulgaria</option>
            <option value="Burkina Faso">Burkina Faso</option>
            <option value="Burundi">Burundi</option>
            <option value="Cabo Verde">Cabo Verde</option>
            <option value="Cambodia">Camboya</option>
            <option value="Cameroon">Camerún</option>
            <option value="Canada">Canadá</option>
            <option value="Central African Republic">República Centroafricana</option>
            <option value="Chad">Chad</option>
            <option value="Chile">Chile</option>
            <option value="China">China</option>
            <option value="Colombia">Colombia</option>
            <option value="Comoros">Comoras</option>
            <option value="Congo">Congo</option>
            <option value="Costa Rica">Costa Rica</option>
            <option value="Croatia">Croacia</option>
            <option value="Cuba">Cuba</option>
            <option value="Cyprus">Chipre</option>
            <option value="Czech Republic">República Checa</option>
            <option value="Denmark">Dinamarca</option>
            <option value="Djibouti">Yibuti</option>
            <option value="Dominica">Dominica</option>
            <option value="Dominican Republic">República Dominicana</option>
        </select><br>
        <label for="genero">Género:</label>
        <select name="genero" class="control">
            <option value="">Selecciona un género</option>
            <option value="Masculino">Masculino</option>
            <option value="Femenino">Femenino</option>
            <option value="No-binario">No binario</option>
            <option value="Prefiero no decirlo">Prefiero no decirlo</option>
        </select><br>

        <label for="password"></label>
        <input type="password" placeholder="Contraseña" name="password" required class="control"><br>
        <div class="error" id="password-error"></div>
        <label for="confirm-password"></label>
        <input type="password" placeholder="Confirmar Contraseña" name="confirm-password" required class="control"><br>
        <div class="g-recaptcha" data-sitekey="6LcHN4QmAAAAAEIbXoXZuJ6SofhKZuZvqRpEMT0L"></div>

        <div class="button-container">
            <button type="submit">Enviar</button>
            <button type="reset" onclick="resetForm()">Borrar</button>
        </div>

    </form>

    <script>
        function validateForm() {
            let isValid = true;

            // Validar el campo username
            const usernameInput = document.getElementsByName("username")[0];
            const usernameError = document.getElementById("username-error");
            if (usernameInput.value.length < 4) {
                usernameError.textContent = "El nombre de usuario debe tener al menos 4 caracteres.";
                isValid = false;
            } else {
                usernameError.textContent = "";
            }

            // Validar el campo password
            const passwordInput = document.getElementsByName("password")[0];
            const confirmPasswordInput = document.getElementsByName("confirm-password")[0];
            const passwordError = document.getElementById("password-error");

            if (passwordInput.value.length < 8) {
                passwordError.textContent = "La contraseña debe tener al menos 8 caracteres.";
                isValid = false;
            } else if (passwordInput.value !== confirmPasswordInput.value) {
                passwordError.textContent = "Las contraseñas no coinciden.";
                isValid = false;
            } else {
                passwordError.textContent = "";
            }

            /*/ Validar el CAPTCHA
            /*const captchaResponse = grecaptcha.getResponse();
            if (captchaResponse.length === 0) {
                alert("Por favor, resuelve el CAPTCHA.");
                isValid = false;
            }*/

            return isValid;
        }
        function resetForm() {
            // Limpiar los campos de entrada
            const inputs = document.getElementsByTagName("input");
            for (let i = 0; i < inputs.length; i++) {
                inputs[i].value = "";
            }

            // Limpiar los mensajes de error
            const errors = document.getElementsByClassName("error");
            for (let i = 0; i < errors.length; i++) {
                errors[i].textContent = "";
            }
        }
    </script>
</body>

</html>